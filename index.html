<script>
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const card = document.getElementById("card");
const sound = document.getElementById("sound");

let scale = 1;
let escaped = false;
let step = 0;

/* escape NO */
function escape(){
  if(!escaped){
    noBtn.style.position="fixed";
    escaped=true;
  }
  const x = Math.random()*(window.innerWidth-160);
  const y = Math.random()*(window.innerHeight-70);
  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";

  scale += .12;
  yesBtn.style.transform = `scale(${scale})`;
}

noBtn.addEventListener("mouseenter", escape);
noBtn.addEventListener("mouseover", escape);

/* pages content */
const pages = [
  `
    <h1>âœ¨ YAAAY âœ¨</h1>
    <div class="subtitle" style="color:var(--pink)">
      I knew it ðŸ’–<br>
      Let me tell you somethingâ€¦
    </div>
    <button onclick="nextPage()" style="margin-top:25px">Next âžœ</button>
  `,
  `
    <h1>Why I like you ðŸ’•</h1>
    <div class="subtitle">
      Because your smile fixes my mood âœ¨<br>
      Because you are kind, smart & special ðŸŒ¸<br>
      And because youâ€™re YOU ðŸ’–
    </div>
    <button onclick="nextPage()" style="margin-top:25px">Next âžœ</button>
  `,
  `
    <h1>Your positive things ðŸŒ·</h1>
    <div class="subtitle">
      âœ¨ Beautiful<br>
      âœ¨ Caring<br>
      âœ¨ Funny<br>
      âœ¨ Strong<br>
      âœ¨ My favorite person ðŸ’•
    </div>
    <button onclick="nextPage()" style="margin-top:25px">Next âžœ</button>
  `,
  `
    <h1>Negative things ðŸ˜Œ</h1>
    <div class="subtitle" style="color:var(--pink)">
      Nothing.<br>
      Absolutely nothing ðŸ’–
    </div>
  `
];

function nextPage(){
  step++;
  card.innerHTML = pages[step];
}

/* YES click */
yesBtn.addEventListener("click",()=>{
  sound.play();
  card.innerHTML = pages[0];

  for(let i=0;i<30;i++){
    const s=document.createElement("div");
    s.className="sparkle";
    s.style.left=Math.random()*window.innerWidth+"px";
    s.style.bottom="0";
    s.innerHTML=Math.random()>.5?"âœ¨":"ðŸŒ¸";
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),3000);
  }
});

/* background hearts */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.style.left=Math.random()*window.innerWidth+"px";
  h.innerHTML="ðŸ’–";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),10000);
},700);
</script>
